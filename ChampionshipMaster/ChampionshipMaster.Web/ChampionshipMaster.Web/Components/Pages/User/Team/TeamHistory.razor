@page "/history/{id}"

@inherits ComponentBase

@rendermode InteractiveServer


<div id="main" style="background-color:#38474e;">
    <center><h1 style="padding-top:1%;color:white;background-color:#38474e;">@(currentTeam.Name)'s history</h1></center>

    <div class="teamHistoryContainer">
        <div class="chart">
            <br />
            <center><h2 style="color:white;padding-right:3rem;">Total Games: @gamesPlayed </h2></center>
            <center><h2 style="color:white;padding-right:3rem;">Winratio: <b><span style="color: @(@winrationPercentage >= 50 ? "green" : "red")">@winrationPercentage</span></b> %</h2></center>
            @if (gamesPlayed > 0)
            {
                <RadzenChart>
                    <RadzenPieSeries Data="@data" ValueProperty="Count" CategoryProperty="Category" Fills="@fills">
                    </RadzenPieSeries>
                </RadzenChart>
            }

        </div>

        <div class="data-list">
            <br />
            <RadzenDataList class="custom-datalist"
                            AllowVirtualization=@true
                            WrapItems=@false
                            AllowPaging=@false
                            Data="@games"
                            TItem="GameDto">
                <Template Context="game">
                    <GameCard Game="@game" Style="max-height:250px;"></GameCard>
                </Template>
            </RadzenDataList>
        </div>
    </div>
</div>
<style>
    .teamHistoryContainer {
        display: flex;
        flex-direction: row;
        align-items: flex-start;
        background-color: #38474e;
    }

    .chart {
        margin-top: 5 %;
        flex: 1;
        margin-right: 20px; /* Space between chart and data list */
    }

    .data-list {
        flex: 1;
        max-height: 550px;
        overflow-y: auto;
        margin: 5% 0 5% 0;
    }
</style>