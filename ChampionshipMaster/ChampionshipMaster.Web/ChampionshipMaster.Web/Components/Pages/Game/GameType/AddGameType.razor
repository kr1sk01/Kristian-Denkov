@page "/addgametype"
@using System.ComponentModel.DataAnnotations
@using System.Text.Json

@rendermode InteractiveServer



<center>
    <h3>Add Game Type</h3>
    <div style="justify-content:center;text-align:left;width:75%;">
        <RadzenTemplateForm Style="" TItem="GameType" Data=@model Submit=@OnSubmit InvalidSubmit=@OnInvalidSubmit>
            @if (showError)
            {
                <RadzenAlert Variant="@Variant.Filled" AlertStyle=@AlertStyle.Primary Size=@AlertSize.Small Shade="Shade.Lighter" AllowClose=false>
                    <RadzenText TagName="TagName.P">@errorMessage</RadzenText>
                </RadzenAlert>
            }
            <RadzenStack Gap="1rem" Class="rz-p-sm-12">
                <RadzenFormField Text="Game Type Name" Variant="@variant">
                    <ChildContent>
                        <RadzenTextBox Name="Name" @bind-Value=@model.Name />
                    </ChildContent>
                    <Helper>
                        <RadzenRequiredValidator Component="Name" Text="Game Type Name is required." />
                    </Helper>
                </RadzenFormField>
                <RadzenButton ButtonType="ButtonType.Submit" Text="Add Game Type"></RadzenButton>
            </RadzenStack>
        </RadzenTemplateForm>

    </div>
</center>

@code {

    Variant variant = Variant.Outlined;


    private GameType model = new GameType();

    private string? errorMessage;
    private bool showError = false;


    void OnSubmit(GameType model)
    {

        if (model.Name.Length <= 3 || model.Name == null)
        {
            showError = true;
            errorMessage = "Invalid Data!";
        }
        else
        {
            showError = false;
            errorMessage = "";
            //POST DATA
        }
    }
    void OnInvalidSubmit(FormInvalidSubmitEventArgs args)
    {

    }
}
